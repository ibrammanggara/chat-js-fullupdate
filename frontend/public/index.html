<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chat Room</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet"/>
  <link rel="stylesheet" href="/assets/style.css"/>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>
<body>
  <div class="sidebar">
    <div class="profile">
      <ion-icon name="person-outline"></ion-icon>
    </div>
    <ul>
      <span>Menu</span>
      <li>
        <a href="#">
          <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
          <p>Percakapan</p>
        </a>
      </li>
    </ul>
    <ul>
      <span>Pengaturan</span>
      <li class="switch-theme">
        <a href="#">
          <ion-icon name="moon-outline"></ion-icon>
          <p>Mode Gelap</p>
          <button>
            <div class="circle"></div>
          </button>
        </a>
      </li>
      <li>
        <a href="#">
          <ion-icon name="log-out-outline"></ion-icon>
          <p>Keluar</p>
        </a>
      </li>
    </ul>
  </div>
  <div class="main-content">
    <div class="chat-container">
      <div class="chat-header">
        <h5 class="mb-0 fw-bold">Chat Room</h5>
        <div class="d-flex align-items-center gap-2">
          <input id="name-input" class="form-control form-control-sm rounded-pill" placeholder="Input Nama..." onchange="updateCurrentUser()">
        </div>
      </div>
      <div id="message-wrapper">
        <div id="message-container"></div>
      </div>
      <div id="reply-preview" style="display:none;">
        <small>
          <strong>Membalas:</strong> <span id="reply-text"></span>
          <button id="close-reply" type="button" style="background:transparent;border:none;outline:none;cursor:pointer;margin-left:6px;">
            <i class="bi bi-x-lg" style="font-size:18px;color:#888;vertical-align:middle;"></i>
          </button>
        </small>
      </div>
      <div id="input-panel">
        <button class="btn btn-primary rounded-circle d-flex justify-content-center align-items-center" style="width: 38px; height: 38px;" title="Lampirkan">
          <i class="bi bi-paperclip"></i>
        </button>
        <input type="text" id="message-input" class="form-control" placeholder="Input Pesan..." />
        <button id="send-button" class="btn btn-primary rounded-circle">
          <i class="bi bi-send-fill"></i>
        </button>
      </div>
    </div>
  </div>
  <audio id="notification-sound" preload="auto">
    <source src="https://soundd809.s3.us-east-1.amazonaws.com/sound.mp3" type="audio/mpeg" />
  </audio>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/assets/index.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
